import pandas as pd
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score
import glob
import xml.etree.ElementTree as ET

# Assume you have multiple XML files in a folder (replace with your folder path)
folder_path = '/path/to/your/xml/dataset/folder/*.xml'
list_of_files = glob.glob(folder_path)

# Initialize an empty DataFrame to store all data
all_data = pd.DataFrame()

# Read and concatenate data from each XML file
for file_name in list_of_files:
    tree = ET.parse(file_name)
    root = tree.getroot()

    # Extract relevant data from XML (modify this part based on your XML structure)
    feature1 = float(root.find('hourly_steps').text)
    feature2 = float(root.find('hourly_calories').text)

    # Append data to DataFrame
    all_data = all_data.append({'hourly_steps': feature1, 'hourly_calories': feature2}, ignore_index=True)

# Assume the target column name is 'target_column'
y = all_data['target_column']
X = all_data.drop(columns=['target_column'])

# Split data into train and test sets
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Train random forest classifier (use your pre-trained model here)
clf = RandomForestClassifier()
clf.fit(X_train, y_train)

# Predict on test set
y_pred = clf.predict(X_test)

# Evaluate model
accuracy = accuracy_score(y_test, y_pred)
print("Accuracy:", accuracy)
